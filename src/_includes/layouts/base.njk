<!doctype html>
{% if itemtype %}
<html lang="en" itemscope itemtype="{{ itemtype }}">
{% else %}
<html lang="en">
{% endif %}
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if title %}{{ title }} &middot; {% endif %}{{ metadata.title }}</title>
    <link rel="stylesheet" href="/_assets/css/main{% if build.env === 'production' %}.min{% endif %}.css" media="screen" type="text/css">
    {% if themeColor %}<style>
    :root {
      --theme: {{ themeColor }}
    }
    </style>{% endif %}

    <link rel="preconnect" href="https://tinylytics.app"/>

    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">

    <meta name="fediverse:creator" content="@jamesdoc@mas.to">
    <meta name="description" content="{{ intro if intro else metadata.description }}" />
    <meta itemprop="description" content="{{ intro if intro else metadata.description }}">
    <meta property="og:site_name" content="James Doc" />
    <meta property="og:title" content="{% if title %}{{ title }} &middot; {% endif %}{{ metadata.title }}" />
    <meta property="og:url" content="https://jamesdoc.com{{ page.url }}" />
    <meta property="og:type" content="website" />
    {% if generatedOGimg %}<meta property="og:image" content="https://jamesdoc.com/_assets/socialPreviews/{{ page.date | htmlDateString('YYYY') }}-{{ title | slugify }}.jpeg">
    {% else %}<meta property="og:image" content="{{ leadImage if leadImage else metadata.metaImg }}">{% endif %}

    {% if canonical %}<link rel="canonical" href="{{ canonical }}" />{% endif %}
    <link rel="webmention" href="https://webmention.io/jamesdoc.com/webmention" />
    <link rel="pingback" href="https://webmention.io/jamesdoc.com/xmlrpc" />

    <link rel="alternate" type="application/rss+xml" title="James Doc" href="/blog/feed.xml" />
    <link rel="icon" type="image/svg" href="/_assets/svg/favicon.svg" />

    <meta name="generator" content="{{ eleventy.generator }}" />

    <link rel="me" href="https://mas.to/@jamesdoc" />
    <link rel="me" href="https://instagram.com/thejamesdoc" />
    <link rel="me" href="https://last.fm/user/jamesdoc" />
    <link rel="me" href="https://github.com/jamesdoc" />

  </head>

  <body>

    <section class="outline" role="main">
      {{ content | safe }}
    </section>

    {% if avatar != "hidden" %}<span class="avatar" aria-hidden="true">
      {% rwdImg "/_assets/img/james.png", "", "150px", "avatar__img", [150, 300], ["webp", "png"], false %}
    </span>{% endif %}

    <script async defer src="/_assets/js/index{% if build.env === 'production' %}.min{% endif %}.js"></script>
    <!--
      generator: Eleventy {{ build.eleventyVersion }}
      last build: {{ build.env }} – {{ build.timestamp }}
      last commit: https://github.com/jamesdoc/jamesdoc.com/commit/{{ build.commitHash }} – {{ build.commitMessage }}
    -->
  </body>
</html>
