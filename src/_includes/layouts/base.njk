<!doctype html>
{% if itemtype %}
<html lang="en" itemscope itemtype="{{ itemtype }}">
{% else %}
<html lang="en">
{% endif %}
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">

    <link rel="stylesheet" href="/_assets/css/main.css" media="screen" type="text/css">

    <title>{{ metadata.title }}{% if title %} - {{ title }}{% endif %}</title>

    <meta name="description" content="{{ intro if intro else metadata.description }}" />
    <meta itemprop="description" content="{{ intro if intro else metadata.description }}">
    <meta property="og:site_name" content="James Doc" />
    <meta property="og:title" content="James Doc{% if title %} - {{ title }}{% endif %}" />
    <meta property="og:url" content="https://jamesdoc.com{{ page.url }}" />
    <meta property="og:type" content="website" />
    {% if generatedOGimg %}<meta property="og:image" content="https://jamesdoc.com/_assets/socialPreviews/{{ page.date | htmlDateString('YYYY') }}-{{ title | slugify }}.jpeg">
    {% else %}<meta property="og:image" content="{{ leadImage if leadImage else metadata.metaImg }}">
    {% endif %}

    {% if canonical %}
    <link rel="canonical" href="{{ canonical }}" />
    {% endif %}


    <link rel="webmention" href="https://webmention.io/jamesdoc.com/webmention" />
    <link rel="pingback" href="https://webmention.io/jamesdoc.com/xmlrpc" />

    <link rel="alternate" type="application/rss+xml" title="James Doc" href="/blog/feed.xml" />
    <link rel="icon" type="image/svg" href="/_assets/svg/favicon.svg" />

    <meta name="generator" content="{{ eleventy.generator }}" />

    <link rel="me" href="https://mas.to/@jamesdoc" />
    <link rel="me" href="https://instagram.com/thejamesdoc" />
    <link rel="me" href="https://last.fm/user/jamesdoc" />
    <link rel="me" href="https://github.com/jamesdoc" />

    {% if themeColor %}<style>
    :root {
      --theme: {{ themeColor }}
    }
    </style>{% endif %}
  </head>

  <body>

    <section role="main">
      {{ layoutContent | safe }}
    </section>

    {% if avatar != "hidden" %}<span class="avatar" aria-hidden="true">
      {% rwdImg "/_assets/img/james.png", "", "150px", "avatar__img", [150, 300], ["webp", "png"] %}
    </span>{% endif %}

    <script async defer src="/_assets/js/index.js"></script>
    <!-- last build: {{ build.env }} {{ build.timestamp }} -->
  </body>
</html>
