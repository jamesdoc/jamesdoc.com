---
title: Inlining SVG in CSS as a background image
type: article
tags: code
date: 2015-09-11 11:50:19
---
<p> In a recent project, in an effort to reduce HTTP requests, I have been inlining various icons into my CSS via base64 encoding. It is really handy if you have a couple of icons that you need everywhere, e.g. a search or menu icon.</p><pre><code>.menu { background-image: url(&lsquo;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAANCAYAAACgu+4kAAAAMElEQVQoz2MQZGDgJxczMDCwM4jxc/4nF4vwcdQziPJzfqAAlzMMPBgNxNFABAYiABBtcJ/dF5gEAAAAAElFTkSuQmCC&rsquo;);
}</code></pre><p> This is great, however using SVG is so much better than PNG, with the various screen sizes and pixel densities using PNGs basically means that you are going to end up with blurry icons. The technique that I had been using was similar however linked out to the SVG file:</p><pre><code>.menu { background-image: url(&lsquo;menu icon.svg&rsquo;);
}</code></pre><p> This works, however for each icon a new HTTP request, something to avoid.</p><p> The recent discovery is that you can put in SVGs directly into the <code>url</code> attribute of the CSS <code>background-image</code> property:</p><pre><code>.menu { background-image: url(&lsquo;data:image/svg+xml;utf8,&lt;svg xmlns=&ldquo;http://www.w3.org/2000/svg&rdquo; height=&ldquo;13px&rdquo; width=&ldquo;16px&rdquo; version=&ldquo;1.1&rdquo; xmlns:xlink=&ldquo;http://www.w3.org/1999/xlink&rdquo; viewBox=&ldquo;0 0 16 13&rdquo;&gt;&lt;g stroke=&ldquo;#160F09&rdquo; stroke-linecap=&ldquo;square&rdquo; stroke-width=&ldquo;2&rdquo;&gt;&lt;path d=&ldquo;m0.5 1h13.5&rdquo;/&gt;&lt;path d=&ldquo;m0.5 11h13.5&rdquo;/&gt;&lt;path d=&ldquo;m0.5 6h13.5&rdquo;/&gt;&lt;/g&gt;&lt;/svg&gt;&rsquo;);
}</code></pre><p> The thing that got me stumped for far too long was that this was working perfectly in WebKit browsers (Chrome, Safari, Opera, etc) but in Firefox you got no icons. Turns out that you need to URL encode certain things for this to work. Specifically with hex colours turning the <code>#</code> to <code>&#37;23</code> made this a whole lot better.</p><p> I&rsquo;ve yet to work out how to solve this issue in Internet Explorer though</p><p> Thanks to Rab Nawaz answer to the <a href="http://stackoverflow.com/a/10768631">Inline SVG in CSS question on StackOverflow</a> for helping me solve my FireFox quandary.</p>
